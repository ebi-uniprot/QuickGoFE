<div ng-repeat="facet in fields">
<h4 class="capitalize">{{facetNames[facet.field]}}</h4>
<ul class="facet-filter no-bullet">
  <li ng-repeat="category in facet.categories" ng-switch="isSelected(facet.field, category.name)">
    <a ng-switch-when="true" class="facet-filter-active ellipsis"
       ng-href="{{endpoint}}/{{searchTerm}}?{{removeFilterUrl(facet.field, category.name)}}">
        {{nameMapping[category.name] || category.name}}
    </a>
    <a ng-switch-when="false"
       ng-href="{{endpoint}}/{{searchTerm}}?{{getFilterUrl(facet.field, category.name)}}">
        <span>{{nameMapping[category.name] || category.name}}</span>
        <span>({{category.count}})</span>
    </a>
  </li>
</ul>
</div>
