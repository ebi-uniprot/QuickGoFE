<div id="content" cg-busy="statsPromise" ng-controller="StatisticsCtrl">

  <h4>Annotation statistics</h4>
  <dropdown-toggle close-on-click="true">
    <toggle>
      <button class="button icon-functional" data-icon="=">Download</button>
    </toggle>
    <pane>
      <div ng-include src="'download/downloadStatistics.html'"></div>
    </pane>
  </dropdown-toggle>

  <tabset>
    <tab heading="Summary">
      <div class="row">
        <div>
          <p>Please note that the figures displayed on this, and the other pages in this dialog relate to the annotation set that you have selected; if you perform any filtering or ID mapping operations, the statistics displayed will alter accordingly.</p>
          <p>You can find full details of the datasets that comprise the full annotation set
            <a target="_blank" href="dataset">here</a>.</p>
        </div>
        <div>
          <p>
            <strong>Number of annotations:</strong>
            {{totalNumberAnnotations | number:0}}
          </p>
        </div>
      </div>
    </tab>
    <tab heading="{{stats.goId.label}}">
      <div class="row">
        <stats-table title="Annotations per GO ID" items="stats.goId.annotation" is-term="true"></stats-table>
        <stats-table title="Gene products per GO ID" items="stats.goId.geneProduct" is-term="true"></stats-table>
      </div>
    </tab>
    <tab heading="{{stats.aspect.label}}">
      <div class="row">
        <stats-table title="Annotations per Aspect" items="stats.aspect.annotation"></stats-table>
        <stats-table title="Gene products per Aspect" items="stats.aspect.geneProduct"></stats-table>
      </div>
    </tab>
    <tab heading="{{stats.evidenceCode.label}}">
      <div class="row">
        <stats-table title="Annotations per Evidence" items="stats.evidenceCode.annotation" is-term="true"></stats-table>
        <stats-table title="Gene products per Evidence" items="stats.evidenceCode.geneProduct" is-term="true"></stats-table>
      </div>
    </tab>
    <tab heading="{{stats.reference.label}}">
      <div class="row">
        <stats-table title="Annotations per Reference" items="stats.reference.annotation"></stats-table>
        <stats-table title="Gene products per Reference" items="stats.reference.geneProduct"></stats-table>
      </div>
    </tab>
    <tab heading="{{stats.taxonId.label}}">
      <div class="row">
        <stats-table title="Annotations per Taxon" items="stats.taxonId.annotation"></stats-table>
        <stats-table title="Gene products per Taxon" items="stats.taxonId.geneProduct"></stats-table>
      </div>
    </tab>
    <tab heading="{{stats.assignedBy.label}}">
      <div class="row">
        <stats-table title="Annotations per Assigned By" items="stats.assignedBy.annotation"></stats-table>
        <stats-table title="Gene products per Assigned By" items="stats.assignedBy.geneProduct"></stats-table>
      </div>
    </tab>
  </tabset>

</div>
