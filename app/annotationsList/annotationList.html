<!-- header templates -->
<div id="content" class="container_24" cg-busy="resultsPromise">
  <h2>GO annotations</h2>

  <!-- Sidebar -->
  <div ng-include src="'sidebar/Sidebar.html'"></div>

  <!-- Main Content -->

  <!-- Table heading content-->
  <div class="grid_20">
    <!-- Buttons -->
    <div>
      <button class="btn quickgo-btn icon-functional" ng-click="download()" data-icon="=">Download</button>
      <button class="btn quickgo-btn icon-functional" data-icon="f" ng-click="showAdvancedFilters()">Advanced filters</button>
      <span class="pagination-text"><strong>{{totalItems}}</strong> annotations</strong></span>
    </div>

    <!-- Results -->
    <div>

      <!-- Results Header-->
      <table id="assignedByCount" class="two-colours">
        <tr>
          <thead>
          <th ng-repeat="colHeading in annotationColumns" >
            <span uib-tooltip-template="'{{colHeading.name}}.html'">
            {{colHeading.value}}</span>
          </th>
          <th ng-show="isSlim">Original GO Identifier</th>
          <th ng-show="isSlim">Original GO Term Name</th>
          </thead>
        </tr>

        <!-- Results Repeat -->
        <tr ng-repeat="goTuple in goList.annotationsList">

          <td><a class="quickgo-link" ng-href="http://www.uniprot.org/uniprot/{{goTuple.protein}}" target="_blank">{{goTuple.protein}}</a>
          </td>
          <td>{{goTuple.symbol}}</td>
          <td>{{goTuple.qualifier}}</td>

          <!-- GO Identifier-->
          <td class="text-nowrap">
            <a href="term/{{searchResult.id}}">{{searchResult.id}}</a>
            <a class="quickgo-link selectable" href="term/{{goTuple.goId}}">{{goTuple.goId}}</a>
            <basket-button termid="{{goTuple.goId}}"></basket-button>
            <chart-icon term-id="goTuple.goId" term-name="goTuple.termName"></chart-icon>
          </td>
          <!-- GO Term Name-->
          <td><element uib-tooltip="{{goTuple.termName}}">{{goTuple.termName | shortenStringFilter}}</element></td>

          <!-- Aspect-->
          <td>{{goTuple.aspect}}</td>

          <!-- Evidence: ECO:0000256  (IEA) -->
          <td>
            <a class="quickgo-link selectable" href="term/{{goTuple.evidenceEco}}">{{goTuple.evidenceEco}}</a>
            &nbsp;<a class="quickgo-link" href="http://geneontology.org/page/guide-go-evidence-codes#{{goTuple.evidenceGo | lowercase}}"
                     target="_blank">({{goTuple.evidenceGo}})</a>
            <a class="quickgo-link selectable" ng-click="showEvidenceCodeOntologyGraph(goTuple.evidenceEco)">
              <span class="icon icon-functional quickgo-btn chart-btn selectable" data-icon="h"></span>
            </a>
          </td>

          <!-- Reference eg "GO_REF:0000002" -->
          <td><a class="quickgo-link"
                 ng-href="{{goTuple.reference | referenceUrlFilter}}" target="_blank">{{goTuple.reference}}</a>
          </td>

          <!-- With -->
          <td><a class="quickgo-link ellipsis" ng-click="showWithString(goTuple.fullWith)" >{{goTuple.fullWith}}</a></td>

          <!-- Taxon-->
          <td><a class="quickgo-link selectable" ng-click="showTaxon(goTuple.taxon)">{{goTuple.taxon}}</a></td>

          <!-- Assigned By-->
          <td><a class="quickgo-link selectable" ng-click="showAssignedBy(goTuple.assignedBy)">{{goTuple.assignedBy}}</a></td>
          <td>{{goTuple.fullExtension}}</td>
          <td ng-show="isSlim">{{goTuple.originalTermId}}</td>
          <td ng-show="isSlim">{{goTuple.originalTermName}}</td>
        </tr>
      </table>
      <uib-pagination total-items="goList.numberAnnotations" max-size="5" rotate="false" ng-model="currentPage" items-per-page="maxSize" ng-change="pageChanged()"></uib-pagination>


      <!-- if there are no results tell the user explicitly -->
      <div ng-show="goList.numberAnnotations==0">
        <h5>No matching annotations have been found</h5>
      </div>

    </div>

  </div>
  <div class="clearfix"></div>

<!-- Dynamicaly inserted tootltips for column headings -->
<script type="text/ng-template" id="colGeneProductID.html"><span>The sequence IDs that have been annotated with GO Terms.</span></script>
<script type="text/ng-template" id="colSymbol.html"><span>The symbols corresponding to the Gene Product ID. An officially approved gene symbol when available or other gene symbols or locus names.</span></script>
<script type="text/ng-template" id="colQualifier.html"><span>Defines the relationship between Gene product and GO term.</span></script>
<script type="text/ng-template" id="colGOIdentifier.html"><span>The unique, stable identifier of the GO term.</span></script>
<script type="text/ng-template" id="colGOTermName.html"><span>The GO term name corresponding to the GO Identifier.</span></script>
<script type="text/ng-template" id="colAspect.html"><span>The single letter initial of the ontology to which the GO term belongs. One of either F (Molecular Function), P (Biological Process) or C (Cellular Component).</span></script>
<script type="text/ng-template" id="colEvidence.html"><span>GO terms are assigned to proteins based on different evidence. This is represented by an evidence code.</span></script>
<script type="text/ng-template" id="colReference.html"><span>A PubMed reference or a GO_REF identifier which contains either the data supporting the annotation or details of the electronic method applied to generate the annotation.</span></script>
<script type="text/ng-template" id="colWith.html"><span>An additional ID to support annotations using certain evidence codes (including IEA, IPI, IGI, IC and ISS evidences). E.g. UniProtKB:O00341, InterPro:IPROO1878 â€¦</span></script>
<script type="text/ng-template" id="colTaxon.html"><span>The taxonomic ID for the species being annotated.</span></script>
<script type="text/ng-template" id="colAssignedBy.html"><span>The database which created the annotation. The GO annotation may not be copied without acknowledgement of the data source.</span></script>
<script type="text/ng-template" id="colAnnotationExtension.html"><span>Annotation Extension</span></script>


  <!-- Column display popup -->
  <!--<div ng-include src="'views/annotation/columnDisplay.html'"></div>-->

  <!-- Column display popup -->
  <!--<%@include file="extension.jsp"%>-->

  <!-- JavaScript at the bottom for fast page loading -->


  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you want to support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7 ]>
  <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
  <script>window.attachEvent('onload', function () {
    CFInstall.check({mode: 'overlay'})
  })</script>
  <![endif]-->
</div>
